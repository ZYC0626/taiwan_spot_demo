(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2773b52e"],{"0b42":function(t,e,a){var c=a("da84"),n=a("e8b5"),r=a("68ee"),i=a("861d"),o=a("b622"),s=o("species"),l=c.Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,r(e)&&(e===l||n(e.prototype))?e=void 0:i(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},1023:function(t,e,a){t.exports=a.p+"img/spot16.532bb2e4.svg"},"159b":function(t,e,a){var c=a("da84"),n=a("fdbc"),r=a("785a"),i=a("17c2"),o=a("9112"),s=function(t){if(t&&t.forEach!==i)try{o(t,"forEach",i)}catch(e){t.forEach=i}};for(var l in n)n[l]&&s(c[l]&&c[l].prototype);s(r)},"17c2":function(t,e,a){"use strict";var c=a("b727").forEach,n=a("a640"),r=n("forEach");t.exports=r?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var c=a("d039"),n=a("b622"),r=a("2d00"),i=n("species");t.exports=function(t){return r>=51||!c((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f87":function(t,e,a){t.exports=a.p+"img/nearby-event30.b543ebac.svg"},"36e9":function(t,e,a){t.exports=a.p+"img/nearby-food30.7477d656.svg"},"65f0":function(t,e,a){var c=a("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},"7dff":function(t,e,a){t.exports=a.p+"img/arrow-right16_R.04a62f81.svg"},8418:function(t,e,a){"use strict";var c=a("a04b"),n=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var i=c(e);i in t?n.f(t,i,r(0,a)):t[i]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),n=a("da84"),r=a("d039"),i=a("e8b5"),o=a("861d"),s=a("7b0b"),l=a("07fa"),u=a("8418"),d=a("65f0"),b=a("1dde"),f=a("b622"),g=a("2d00"),O=f("isConcatSpreadable"),h=9007199254740991,j="Maximum allowed index exceeded",m=n.TypeError,p=g>=51||!r((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),v=b("concat"),y=function(t){if(!o(t))return!1;var e=t[O];return void 0!==e?!!e:i(t)},D=!p||!v;c({target:"Array",proto:!0,forced:D},{concat:function(t){var e,a,c,n,r,i=s(this),o=d(i,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(r=-1===e?i:arguments[e],y(r)){if(n=l(r),b+n>h)throw m(j);for(a=0;a<n;a++,b++)a in r&&u(o,b,r[a])}else{if(b>=h)throw m(j);u(o,b++,r)}return o.length=b,o}})},a454:function(t,e,a){t.exports=a.p+"img/Arrow-Left.82a327f0.svg"},b0c0:function(t,e,a){var c=a("83ab"),n=a("5e77").EXISTS,r=a("e330"),i=a("9bf2").f,o=Function.prototype,s=r(o.toString),l=/^\s*function ([^ (]*)/,u=r(l.exec),d="name";c&&!n&&i(o,d,{configurable:!0,get:function(){try{return u(l,s(this))[1]}catch(t){return""}}})},b727:function(t,e,a){var c=a("0366"),n=a("e330"),r=a("44ad"),i=a("7b0b"),o=a("07fa"),s=a("65f0"),l=n([].push),u=function(t){var e=1==t,a=2==t,n=3==t,u=4==t,d=6==t,b=7==t,f=5==t||d;return function(g,O,h,j){for(var m,p,v=i(g),y=r(v),D=c(O,h),C=o(y),k=0,x=j||s,P=e?x(g,C):a||b?x(g,0):void 0;C>k;k++)if((f||k in y)&&(m=y[k],p=D(m,k,v),t))if(e)P[k]=p;else if(p)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:l(P,m)}else switch(t){case 4:return!1;case 7:l(P,m)}return d?-1:n||u?u:P}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},dbc9:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n=a("fa37"),r=a.n(n),i=a("1f87"),o=a.n(i),s=a("36e9"),l=a.n(s),u=a("7dff"),d=a.n(u),b=a("1023"),f=a.n(b),g={class:"container-fluid conatainer-px"},O={"aria-label":"breadcrumb",class:"py-2 mt-3"},h={class:"breadcrumb"},j=Object(c["g"])("li",{class:"breadcrumb-item"},[Object(c["g"])("a",{href:"#",class:"text-decoration-none"},"首頁")],-1),m={class:"breadcrumb-item"},p={key:0,class:"breadcrumb-item"},v={class:"breadcrumb-item active","aria-current":"page"},y={id:"carouselFood",class:"carousel slide","data-bs-ride":"carousel",ref:"carouselFood"},D={class:"detail-content"},C={class:"detail-title"},k={key:0,class:"badge badge-customer"},x={key:1,class:"badge badge-customer"},P={key:2,class:"badge badge-customer"},$={class:"intro"},w=Object(c["g"])("h3",{class:"intro-title"},"景點介紹 :",-1),S={class:"intro-content"},A={key:0},B={key:1},F={class:"row bg-md-gray"},I={class:"col-md-6"},T={class:"contact"},L=Object(c["g"])("strong",null,"開放時間：",-1),N={key:0},U=Object(c["g"])("strong",null,"服務電話：",-1),E={key:1},R=Object(c["g"])("strong",null,"景點地址：",-1),J={key:2},M=Object(c["g"])("strong",null,"官方網站：",-1),_=Object(c["i"])(" : "),z=["href"],H={key:3},q=Object(c["g"])("strong",null,"票價資訊：",-1),W={key:4},V=Object(c["g"])("strong",null,"注意事項：",-1),X={class:"col-md-6"},G=["src"],K={class:"relation"},Q=Object(c["g"])("h3",{class:"title"},"周邊資訊:",-1),Y={class:"row"},Z={class:"col-md-4 mb-md-0 mb-3"},tt=Object(c["g"])("img",{src:r.a,alt:"scene30",height:"22.5"},null,-1),et=Object(c["g"])("div",null,"附近景點",-1),at=[tt,et],ct={class:"col-md-4 mb-md-0 mb-3"},nt=Object(c["g"])("img",{src:o.a,alt:"scene30",height:"22.5"},null,-1),rt=Object(c["g"])("div",null,"附近活動",-1),it=[nt,rt],ot={class:"col-md-4 mb-md-0 mb-3"},st=Object(c["g"])("img",{src:l.a,alt:"scene30",height:"22.5"},null,-1),lt=Object(c["g"])("div",null,"附近美食",-1),ut=[st,lt],dt={class:"mt-4"},bt={class:"d-flex align-items-center"},ft=Object(c["g"])("h2",{class:"me-auto ms-2 d-md-block d-none"},"還有這些不能錯過的美食",-1),gt=Object(c["g"])("h2",{class:"me-auto ms-2 d-block d-md-none"},"這些也不能錯過",-1),Ot=Object(c["g"])("img",{src:d.a,class:"ms-1",alt:"arrow"},null,-1),ht=Object(c["i"])("更多美食"),jt=Object(c["g"])("img",{src:d.a,class:"ms-1",alt:"arrow"},null,-1),mt=[ht,jt],pt={class:"row"},vt=["onClick"],yt={class:"recommended-card-img-border"},Dt={class:"title"},Ct={class:"spot"},kt=Object(c["g"])("img",{src:f.a,class:"me-1",alt:"spot"},null,-1),xt={key:0},Pt={key:1};function $t(t,e,a,n,r,i){var o=this;return Object(c["u"])(),Object(c["f"])("div",g,[Object(c["g"])("nav",O,[Object(c["g"])("ol",h,[j,Object(c["g"])("li",m,[Object(c["g"])("a",{href:"#",class:"text-decoration-none",onClick:e[0]||(e[0]=Object(c["I"])((function(t){return i.breadCrumbSearch("food","all")}),["prevent"]))},"品嚐美食")]),""!==r.currentCity?(Object(c["u"])(),Object(c["f"])("li",p,[Object(c["g"])("a",{href:"#",class:"text-decoration-none",onClick:e[1]||(e[1]=Object(c["I"])((function(t){return i.breadCrumbSearch("food",r.currentCity_en)}),["prevent"]))},Object(c["B"])(r.currentCity),1)])):Object(c["e"])("",!0),Object(c["g"])("li",v,Object(c["B"])(r.detailData.Name),1)])]),Object(c["g"])("div",y,null,512),Object(c["g"])("div",D,[Object(c["g"])("h2",C,Object(c["B"])(r.detailData.Name),1),r.detailData.Class1?(Object(c["u"])(),Object(c["f"])("span",k,"# "+Object(c["B"])(r.detailData.Class1),1)):Object(c["e"])("",!0),r.detailData.Class2?(Object(c["u"])(),Object(c["f"])("span",x,"# "+Object(c["B"])(r.detailData.Class2),1)):Object(c["e"])("",!0),r.detailData.Class3?(Object(c["u"])(),Object(c["f"])("span",P,"# "+Object(c["B"])(r.detailData.Class3),1)):Object(c["e"])("",!0),Object(c["g"])("div",$,[w,Object(c["g"])("p",S,[r.detailData.Description?(Object(c["u"])(),Object(c["f"])("span",A,Object(c["B"])(r.detailData.Description),1)):(Object(c["u"])(),Object(c["f"])("span",B,Object(c["B"])(r.detailData.DescriptionDetail),1))])])]),Object(c["g"])("div",F,[Object(c["g"])("div",I,[Object(c["g"])("ul",T,[Object(c["g"])("li",null,[L,Object(c["i"])(" : "+Object(c["B"])(r.detailData.OpenTime),1)]),r.detailData.Phone?(Object(c["u"])(),Object(c["f"])("li",N,[U,Object(c["i"])(" : "+Object(c["B"])(r.detailData.Phone),1)])):Object(c["e"])("",!0),r.detailData.Address?(Object(c["u"])(),Object(c["f"])("li",E,[R,Object(c["i"])(" : "+Object(c["B"])(r.detailData.Address),1)])):Object(c["e"])("",!0),r.detailData.WebsiteUrl?(Object(c["u"])(),Object(c["f"])("li",J,[M,_,Object(c["g"])("a",{href:r.detailData.WebsiteUrl,target:"_blank"},Object(c["B"])(r.detailData.WebsiteUrl),9,z)])):Object(c["e"])("",!0),r.detailData.TicketInfo?(Object(c["u"])(),Object(c["f"])("li",H,[q,Object(c["i"])(" : "+Object(c["B"])(r.detailData.TicketInfo),1)])):Object(c["e"])("",!0),r.detailData.Remarks?(Object(c["u"])(),Object(c["f"])("li",W,[V,Object(c["i"])(" : "+Object(c["B"])(r.detailData.Remarks),1)])):Object(c["e"])("",!0)])]),Object(c["g"])("div",X,[Object(c["g"])("iframe",{width:"100%",height:"250",style:{border:"0","border-radius":"12px","margin-bottom":"12px"},src:r.iframeSrc},"\r\n      ",8,G),Object(c["g"])("div",K,[Q,Object(c["g"])("div",Y,[Object(c["g"])("div",Z,[Object(c["g"])("div",{class:"relation-item",onClick:e[2]||(e[2]=function(t){return i.getAroundOne("ScenicSpot","spot")})},at)]),Object(c["g"])("div",ct,[Object(c["g"])("div",{class:"relation-item",onClick:e[3]||(e[3]=function(t){return i.getAroundOne("Activity","event")})},it)]),Object(c["g"])("div",ot,[Object(c["g"])("div",{class:"relation-item",onClick:e[4]||(e[4]=function(t){return i.getAroundOne("Restaurant","food")})},ut)])])])])]),Object(c["g"])("div",dt,[Object(c["g"])("div",bt,[ft,gt,Object(c["g"])("a",{class:"more-link me-2 d-md-block d-none",href:"#",onClick:e[5]||(e[5]=Object(c["I"])((function(t){return i.goToRelation("food")}),["prevent"]))},[Object(c["i"])("查看更多"+Object(c["B"])(this.currentCity)+"美食",1),Ot]),Object(c["g"])("a",{class:"more-link me-2 d-block d-md-none",href:"#",onClick:e[6]||(e[6]=Object(c["I"])((function(t){return i.goToRelation("food")}),["prevent"]))},mt)]),Object(c["g"])("div",pt,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(r.aroundSpotList,(function(t){return Object(c["u"])(),Object(c["f"])("div",{class:"col-lg-3 col-md-6",key:t.ID},[Object(c["g"])("div",{class:"recommended-card",onClick:function(e){return i.goToDetail("food",t.ID)}},[Object(c["g"])("div",yt,[Object(c["g"])("div",{class:"recommended-card-img",style:Object(c["q"])({"background-image":"url("+t.Picture.PictureUrl1+")"})},null,4)]),Object(c["g"])("p",Dt,Object(c["B"])(t.Name),1),Object(c["g"])("p",Ct,[kt,t.City?(Object(c["u"])(),Object(c["f"])("span",xt,Object(c["B"])(t.City),1)):(Object(c["u"])(),Object(c["f"])("span",Pt,Object(c["B"])(o.$filter.formatCity(t)),1))])],8,vt)])})),128))])])])}a("b0c0"),a("99af"),a("d3b7"),a("159b"),a("e9c4");var wt={data:function(){return{id:"",detailData:{},iframeSrc:"",aroundSpotList:[],currentCity:"",currentCity_en:""}},watch:{$route:function(){"foodDetail"===this.$route.name&&(this.id=this.$route.params.Id,this.getDetail())}},methods:{goToDetail:function(t,e){this.$router.push("/".concat(t,"/").concat(e))},getDetail:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$filter=ID%20eq%20'".concat(this.id,"'&$top=1&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.detailData=e.data[0],t.iframeSrc="https://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=".concat(t.detailData.Position.PositionLat,",").concat(t.detailData.Position.PositionLon,"&z=16&output=embed&t="),t.getAroundFood(),t.renderCarousel(t.detailData),t.getCityList()})).catch((function(t){console.log(t)}))},getAroundFood:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$filter=Picture%2FPictureUrl1%20ne%20null%20and%20ID%20ne%20'".concat(this.detailData.ID,"'&$orderby=UpdateTime%20desc&$top=4&$spatialFilter=nearby(").concat(this.detailData.Position.PositionLat,"%2C%20").concat(this.detailData.Position.PositionLon,"%2C%2010000)&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.aroundSpotList=e.data,console.log(t.aroundSpotList)})).catch((function(t){console.log(t)}))},checkImage:function(t){var e=[];return t.Picture.PictureUrl1&&e.push(t.Picture.PictureUrl1),t.Picture.PictureUrl2&&e.push(t.Picture.PictureUrl2),t.Picture.PictureUrl3&&e.push(t.Picture.PictureUrl3),e},renderCarousel:function(t){console.log("renderCarousel");var e=this.checkImage(t),c="",n='\n      <button\n        class="carousel-control-prev d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselFood"\n        data-bs-slide="prev"\n      >\n        <img src="'.concat(a("a454"),'" alt="" />\n        <span class="visually-hidden">Previous</span>\n      </button>\n      <button\n        class="carousel-control-next d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselFood"\n        data-bs-slide="next"\n      >\n        <img src="').concat(a("eceb"),'" alt=""/>\n        <span class="visually-hidden">Next</span>\n      </button>'),r="";r='\n      <div\n        class="\n          carousel-indicators carousel-indicators-radius\n          justify-content-end\n        "\n      >\n      ',e.forEach((function(t,e){r+='\n        <button\n          type="button"\n          data-bs-target="#carouselFood"\n          data-bs-slide-to="'.concat(e,'"\n          class="').concat(0===e?"active":"",' circle-radius"\n        ></button>\n        ')})),r+="</div>";var i="";i='<div class="carousel-inner">',e.forEach((function(t,e){i+='\n        <div\n          class="carousel-item '.concat(0===e?"active":"",' bg-cover bg-center"\n          style="\n            background-image: url(').concat(t,');\n          "\n        >\n        </div>')})),i+="</div>",c+=r,c+=i,c+=n,this.$refs.carouselFood.innerHTML=c},getCityList:function(){var t=this;this.axios.get("https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON",{headers:this.$getAuthorizationHeader()}).then((function(e){var a=e.data;t.currentCity=t.detailData.City?t.detailData.City:t.$filter.formatCity(t.detailData),a.forEach((function(e){e.CityName===t.currentCity&&(t.currentCity_en=e.City)}))})).catch((function(t){console.log(t)}))},goToRelation:function(t){var e={keyword:"",city:""===this.currentCity_en?"all":this.currentCity_en,class1:"all",search:!0},a=JSON.stringify(e);this.$router.push("/".concat(t,"Search/").concat(a))},getAroundOne:function(t,e){var a=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/".concat(t,"?$filter=ID%20ne%20'").concat(this.detailData.ID,"'&$orderby=UpdateTime%20desc&$top=3&$spatialFilter=nearby(").concat(this.detailData.Position.PositionLat,"%2C%20").concat(this.detailData.Position.PositionLon,"%2C%201000)&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(t){if(t.data){var c=t.data[Math.floor(Math.random()*t.data.length)].ID;a.$router.push("/".concat(e,"/").concat(c))}})).catch((function(t){console.log(t)}))},breadCrumbSearch:function(t,e){var a={keyword:"",city:e,class1:"all",search:!0},c=JSON.stringify(a);this.$router.push("/".concat(t,"Search/").concat(c))}},created:function(){this.id=this.$route.params.Id,this.getDetail()}},St=a("6b0d"),At=a.n(St);const Bt=At()(wt,[["render",$t]]);e["default"]=Bt},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}},e9c4:function(t,e,a){var c=a("23e7"),n=a("da84"),r=a("d066"),i=a("2ba4"),o=a("e330"),s=a("d039"),l=n.Array,u=r("JSON","stringify"),d=o(/./.exec),b=o("".charAt),f=o("".charCodeAt),g=o("".replace),O=o(1..toString),h=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,p=function(t,e,a){var c=b(a,e-1),n=b(a,e+1);return d(j,t)&&!d(m,n)||d(m,t)&&!d(j,c)?"\\u"+O(f(t,0),16):t},v=s((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&c({target:"JSON",stat:!0,forced:v},{stringify:function(t,e,a){for(var c=0,n=arguments.length,r=l(n);c<n;c++)r[c]=arguments[c];var o=i(u,null,r);return"string"==typeof o?g(o,h,p):o}})},eceb:function(t,e,a){t.exports=a.p+"img/Arrow-Right.16fb9788.svg"},fa37:function(t,e,a){t.exports=a.p+"img/nearby-scene30.ed479aea.svg"}}]);
//# sourceMappingURL=chunk-2773b52e.ee8b20e6.js.map