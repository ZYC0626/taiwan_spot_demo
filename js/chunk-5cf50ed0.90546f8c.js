(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cf50ed0"],{"0b42":function(t,e,a){var c=a("da84"),n=a("e8b5"),i=a("68ee"),r=a("861d"),o=a("b622"),s=o("species"),l=c.Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,i(e)&&(e===l||n(e.prototype))?e=void 0:r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},1023:function(t,e,a){t.exports=a.p+"img/spot16.532bb2e4.svg"},"159b":function(t,e,a){var c=a("da84"),n=a("fdbc"),i=a("785a"),r=a("17c2"),o=a("9112"),s=function(t){if(t&&t.forEach!==r)try{o(t,"forEach",r)}catch(e){t.forEach=r}};for(var l in n)n[l]&&s(c[l]&&c[l].prototype);s(i)},"17c2":function(t,e,a){"use strict";var c=a("b727").forEach,n=a("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var c=a("d039"),n=a("b622"),i=a("2d00"),r=n("species");t.exports=function(t){return i>=51||!c((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f87":function(t,e,a){t.exports=a.p+"img/nearby-event30.b543ebac.svg"},"36e9":function(t,e,a){t.exports=a.p+"img/nearby-food30.7477d656.svg"},"4d96":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n=a("fa37"),i=a.n(n),r=a("1f87"),o=a.n(r),s=a("36e9"),l=a.n(s),d=a("7dff"),b=a.n(d),u=a("1023"),f=a.n(u),g={class:"container-fluid conatainer-px"},O={"aria-label":"breadcrumb",class:"py-2 mt-3"},j={class:"breadcrumb"},p=Object(c["g"])("li",{class:"breadcrumb-item"},[Object(c["g"])("a",{href:"#",class:"text-decoration-none"},"首頁")],-1),m=Object(c["g"])("li",{class:"breadcrumb-item"},[Object(c["g"])("a",{href:"#",class:"text-decoration-none"},"探索景點")],-1),h={class:"breadcrumb-item active","aria-current":"page"},v={id:"carouselSpot",class:"carousel slide","data-bs-ride":"carousel",ref:"carouselSpot"},y={class:"detail-content"},D={class:"detail-title"},x={key:0,class:"badge badge-customer"},P={key:1,class:"badge badge-customer"},S={key:2,class:"badge badge-customer"},k={class:"intro"},w=Object(c["g"])("h3",{class:"intro-title"},"景點介紹 :",-1),C={class:"intro-content"},$={key:0},B={key:1},A={class:"row bg-md-gray"},T={class:"col-md-6"},U={class:"contact"},E=Object(c["g"])("strong",null,"營業時間：",-1),I={key:0},L=Object(c["g"])("strong",null,"聯絡電話：",-1),N={key:1},q=Object(c["g"])("strong",null,"餐廳地址：",-1),z={key:2},J=Object(c["g"])("strong",null,"官方網站：",-1),M=Object(c["i"])(" : "),W=["href"],F={class:"col-md-6"},H=["src"],R=Object(c["g"])("div",{class:"relation"},[Object(c["g"])("h3",{class:"title"},"周邊資訊:"),Object(c["g"])("div",{class:"row"},[Object(c["g"])("div",{class:"col-md-4 mb-md-0 mb-3"},[Object(c["g"])("div",{class:"relation-item"},[Object(c["g"])("img",{src:i.a,alt:"scene30",height:"22.5"}),Object(c["g"])("div",null,"附近景點")])]),Object(c["g"])("div",{class:"col-md-4 mb-md-0 mb-3"},[Object(c["g"])("div",{class:"relation-item"},[Object(c["g"])("img",{src:o.a,alt:"scene30",height:"22.5"}),Object(c["g"])("div",null,"附近活動")])]),Object(c["g"])("div",{class:"col-md-4 mb-md-0 mb-3"},[Object(c["g"])("div",{class:"relation-item"},[Object(c["g"])("img",{src:l.a,alt:"scene30",height:"22.5"}),Object(c["g"])("div",null,"附近美食")])])])],-1),_={class:"mt-4"},X=Object(c["g"])("div",{class:"d-flex align-items-center"},[Object(c["g"])("h2",{class:"me-auto ms-2"},"還有這些不能錯過活動"),Object(c["g"])("a",{class:"more-link me-2",href:"#"},[Object(c["i"])("查看更多活動"),Object(c["g"])("img",{src:b.a,class:"ms-1",alt:"arrow"})])],-1),G={class:"row"},K=["onClick"],Q={class:"recommended-card-img-border"},V={class:"title"},Y={class:"spot"},Z=Object(c["g"])("img",{src:f.a,class:"me-1",alt:"spot"},null,-1),tt={key:0},et={key:1};function at(t,e,a,n,i,r){var o=this;return Object(c["u"])(),Object(c["f"])("div",g,[Object(c["g"])("nav",O,[Object(c["g"])("ol",j,[p,m,Object(c["g"])("li",h,Object(c["B"])(i.detailData.Name),1)])]),Object(c["g"])("div",v,null,512),Object(c["g"])("div",y,[Object(c["g"])("h2",D,Object(c["B"])(i.detailData.Name),1),i.detailData.Class1?(Object(c["u"])(),Object(c["f"])("span",x,"# "+Object(c["B"])(i.detailData.Class1),1)):Object(c["e"])("",!0),i.detailData.Class2?(Object(c["u"])(),Object(c["f"])("span",P,"# "+Object(c["B"])(i.detailData.Class2),1)):Object(c["e"])("",!0),i.detailData.Class3?(Object(c["u"])(),Object(c["f"])("span",S,"# "+Object(c["B"])(i.detailData.Class3),1)):Object(c["e"])("",!0),Object(c["g"])("div",k,[w,Object(c["g"])("p",C,[i.detailData.Description?(Object(c["u"])(),Object(c["f"])("span",$,Object(c["B"])(i.detailData.Description),1)):(Object(c["u"])(),Object(c["f"])("span",B,Object(c["B"])(i.detailData.DescriptionDetail),1))])])]),Object(c["g"])("div",A,[Object(c["g"])("div",T,[Object(c["g"])("ul",U,[Object(c["g"])("li",null,[E,Object(c["i"])(" : "+Object(c["B"])(i.detailData.OpenTime),1)]),i.detailData.Phone?(Object(c["u"])(),Object(c["f"])("li",I,[L,Object(c["i"])(" : "+Object(c["B"])(i.detailData.Phone),1)])):Object(c["e"])("",!0),i.detailData.Address?(Object(c["u"])(),Object(c["f"])("li",N,[q,Object(c["i"])(" : "+Object(c["B"])(i.detailData.Address),1)])):Object(c["e"])("",!0),i.detailData.WebsiteUrl?(Object(c["u"])(),Object(c["f"])("li",z,[J,M,Object(c["g"])("a",{href:i.detailData.WebsiteUrl,target:"_blank"},Object(c["B"])(i.detailData.WebsiteUrl),9,W)])):Object(c["e"])("",!0)])]),Object(c["g"])("div",F,[Object(c["g"])("iframe",{width:"100%",height:"250",style:{border:"0","border-radius":"12px","margin-bottom":"12px"},src:i.iframeSrc},"\r\n      ",8,H),R])]),Object(c["g"])("div",_,[X,Object(c["g"])("div",G,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(i.aroundSpotList,(function(t){return Object(c["u"])(),Object(c["f"])("div",{class:"col-3",key:t.ID},[Object(c["g"])("div",{class:"recommended-card",onClick:function(e){return r.goToDetail("spot",t.ID)}},[Object(c["g"])("div",Q,[Object(c["g"])("div",{class:"recommended-card-img",style:Object(c["q"])({"background-image":"url("+t.Picture.PictureUrl1+")"})},null,4)]),Object(c["g"])("p",V,Object(c["B"])(t.Name),1),Object(c["g"])("p",Y,[Z,t.City?(Object(c["u"])(),Object(c["f"])("span",tt,Object(c["B"])(t.City),1)):(Object(c["u"])(),Object(c["f"])("span",et,Object(c["B"])(o.$filter.formatCity(t)),1))])],8,K)])})),128))])])])}a("b0c0"),a("99af"),a("d3b7"),a("159b");var ct={data:function(){return{id:"",detailData:{},iframeSrc:"",aroundSpotList:[]}},watch:{$route:function(){"spotDetail"===this.$route.name&&(this.id=this.$route.params.Id,this.getDetail())}},methods:{goToDetail:function(t,e){this.$router.push("/".concat(t,"/").concat(e))},getDetail:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=ID%20eq%20'".concat(this.id,"'&$top=1&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.detailData=e.data[0],t.iframeSrc="https://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=".concat(t.detailData.Position.PositionLat,",").concat(t.detailData.Position.PositionLon,"&z=16&output=embed&t="),t.getAroundSpot(),t.renderCarousel(t.detailData)})).catch((function(t){console.log(t)}))},getAroundSpot:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=Picture%2FPictureUrl1%20ne%20null%20and%20ID%20ne%20'".concat(this.detailData.ID,"'&$orderby=UpdateTime%20desc&$top=4&$spatialFilter=nearby(").concat(this.detailData.Position.PositionLat,"%2C%20").concat(this.detailData.Position.PositionLon,"%2C%2010000)&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.aroundSpotList=e.data,console.log(t.aroundSpotList)})).catch((function(t){console.log(t)}))},checkImage:function(t){var e=[];return t.Picture.PictureUrl1&&e.push(t.Picture.PictureUrl1),t.Picture.PictureUrl2&&e.push(t.Picture.PictureUrl2),t.Picture.PictureUrl3&&e.push(t.Picture.PictureUrl3),e},renderCarousel:function(t){console.log("renderCarousel");var e=this.checkImage(t),c="",n='\n      <button\n        class="carousel-control-prev d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselSpot"\n        data-bs-slide="prev"\n      >\n        <img src="'.concat(a("a454"),'" alt="" />\n        <span class="visually-hidden">Previous</span>\n      </button>\n      <button\n        class="carousel-control-next d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselSpot"\n        data-bs-slide="next"\n      >\n        <img src="').concat(a("eceb"),'" alt=""/>\n        <span class="visually-hidden">Next</span>\n      </button>'),i="";i='\n      <div\n        class="\n          carousel-indicators carousel-indicators-radius\n          justify-content-end\n        "\n      >\n      ',e.forEach((function(t,e){i+='\n        <button\n          type="button"\n          data-bs-target="#carouselSpot"\n          data-bs-slide-to="'.concat(e,'"\n          class="').concat(0===e?"active":"",' circle-radius"\n        ></button>\n        ')})),i+="</div>";var r="";r='<div class="carousel-inner">',e.forEach((function(t,e){r+='\n        <div\n          class="carousel-item '.concat(0===e?"active":"",' bg-cover bg-center"\n          style="\n            background-image: url(').concat(t,');\n          "\n        >\n        </div>')})),r+="</div>",c+=i,c+=r,c+=n,this.$refs.carouselSpot.innerHTML=c}},created:function(){this.id=this.$route.params.Id,this.getDetail()}},nt=a("6b0d"),it=a.n(nt);const rt=it()(ct,[["render",at]]);e["default"]=rt},"65f0":function(t,e,a){var c=a("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},"7dff":function(t,e,a){t.exports=a.p+"img/arrow-right16_R.04a62f81.svg"},8418:function(t,e,a){"use strict";var c=a("a04b"),n=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var r=c(e);r in t?n.f(t,r,i(0,a)):t[r]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),n=a("da84"),i=a("d039"),r=a("e8b5"),o=a("861d"),s=a("7b0b"),l=a("07fa"),d=a("8418"),b=a("65f0"),u=a("1dde"),f=a("b622"),g=a("2d00"),O=f("isConcatSpreadable"),j=9007199254740991,p="Maximum allowed index exceeded",m=n.TypeError,h=g>=51||!i((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),v=u("concat"),y=function(t){if(!o(t))return!1;var e=t[O];return void 0!==e?!!e:r(t)},D=!h||!v;c({target:"Array",proto:!0,forced:D},{concat:function(t){var e,a,c,n,i,r=s(this),o=b(r,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(i=-1===e?r:arguments[e],y(i)){if(n=l(i),u+n>j)throw m(p);for(a=0;a<n;a++,u++)a in i&&d(o,u,i[a])}else{if(u>=j)throw m(p);d(o,u++,i)}return o.length=u,o}})},a454:function(t,e,a){t.exports=a.p+"img/Arrow-Left.82a327f0.svg"},b0c0:function(t,e,a){var c=a("83ab"),n=a("5e77").EXISTS,i=a("e330"),r=a("9bf2").f,o=Function.prototype,s=i(o.toString),l=/^\s*function ([^ (]*)/,d=i(l.exec),b="name";c&&!n&&r(o,b,{configurable:!0,get:function(){try{return d(l,s(this))[1]}catch(t){return""}}})},b727:function(t,e,a){var c=a("0366"),n=a("e330"),i=a("44ad"),r=a("7b0b"),o=a("07fa"),s=a("65f0"),l=n([].push),d=function(t){var e=1==t,a=2==t,n=3==t,d=4==t,b=6==t,u=7==t,f=5==t||b;return function(g,O,j,p){for(var m,h,v=r(g),y=i(v),D=c(O,j),x=o(y),P=0,S=p||s,k=e?S(g,x):a||u?S(g,0):void 0;x>P;P++)if((f||P in y)&&(m=y[P],h=D(m,P,v),t))if(e)k[P]=h;else if(h)switch(t){case 3:return!0;case 5:return m;case 6:return P;case 2:l(k,m)}else switch(t){case 4:return!1;case 7:l(k,m)}return b?-1:n||d?d:k}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}},eceb:function(t,e,a){t.exports=a.p+"img/Arrow-Right.16fb9788.svg"},fa37:function(t,e,a){t.exports=a.p+"img/nearby-scene30.ed479aea.svg"}}]);
//# sourceMappingURL=chunk-5cf50ed0.90546f8c.js.map