(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d67fde7c"],{"0b42":function(t,e,a){var c=a("da84"),n=a("e8b5"),i=a("68ee"),r=a("861d"),o=a("b622"),s=o("species"),l=c.Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,i(e)&&(e===l||n(e.prototype))?e=void 0:r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},1023:function(t,e,a){t.exports=a.p+"img/spot16.532bb2e4.svg"},"159b":function(t,e,a){var c=a("da84"),n=a("fdbc"),i=a("785a"),r=a("17c2"),o=a("9112"),s=function(t){if(t&&t.forEach!==r)try{o(t,"forEach",r)}catch(e){t.forEach=r}};for(var l in n)n[l]&&s(c[l]&&c[l].prototype);s(i)},"17c2":function(t,e,a){"use strict";var c=a("b727").forEach,n=a("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var c=a("d039"),n=a("b622"),i=a("2d00"),r=n("species");t.exports=function(t){return i>=51||!c((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f87":function(t,e,a){t.exports=a.p+"img/nearby-event30.b543ebac.svg"},"36e9":function(t,e,a){t.exports=a.p+"img/nearby-food30.7477d656.svg"},"4d96":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n=a("fa37"),i=a.n(n),r=a("1f87"),o=a.n(r),s=a("36e9"),l=a.n(s),u=a("7dff"),d=a.n(u),b=a("1023"),f=a.n(b),g={class:"container-fluid conatainer-px"},h={"aria-label":"breadcrumb",class:"py-2 mt-3"},O={class:"breadcrumb"},p=Object(c["g"])("li",{class:"breadcrumb-item"},[Object(c["g"])("a",{href:"#",class:"text-decoration-none"},"首頁")],-1),j={class:"breadcrumb-item"},m={key:0,class:"breadcrumb-item"},v={class:"breadcrumb-item active","aria-current":"page"},y={id:"carouselSpot",class:"carousel slide","data-bs-ride":"carousel",ref:"carouselSpot"},D={class:"detail-content"},C={class:"detail-title"},S={key:0,class:"badge badge-customer"},k={key:1,class:"badge badge-customer"},x={key:2,class:"badge badge-customer"},P={class:"intro"},$=Object(c["g"])("h3",{class:"intro-title"},"景點介紹 :",-1),w={class:"intro-content"},A={key:0},B={key:1},I={class:"row bg-md-gray"},T={class:"col-md-6"},L={class:"contact"},N=Object(c["g"])("strong",null,"營業時間：",-1),U={key:0},E=Object(c["g"])("strong",null,"聯絡電話：",-1),F={key:1},J=Object(c["g"])("strong",null,"餐廳地址：",-1),M={key:2},_=Object(c["g"])("strong",null,"官方網站：",-1),R=Object(c["i"])(" : "),z=["href"],H={class:"col-md-6"},q=["src"],W={class:"relation"},V=Object(c["g"])("h3",{class:"title"},"周邊資訊:",-1),X={class:"row"},G={class:"col-md-4 mb-md-0 mb-3"},K=Object(c["g"])("img",{src:i.a,alt:"scene30",height:"22.5"},null,-1),Q=Object(c["g"])("div",null,"附近景點",-1),Y=[K,Q],Z={class:"col-md-4 mb-md-0 mb-3"},tt=Object(c["g"])("img",{src:o.a,alt:"scene30",height:"22.5"},null,-1),et=Object(c["g"])("div",null,"附近活動",-1),at=[tt,et],ct={class:"col-md-4 mb-md-0 mb-3"},nt=Object(c["g"])("img",{src:l.a,alt:"scene30",height:"22.5"},null,-1),it=Object(c["g"])("div",null,"附近美食",-1),rt=[nt,it],ot={class:"mt-4"},st={class:"d-flex align-items-center"},lt=Object(c["g"])("h2",{class:"me-auto ms-2 d-md-block d-none"},"還有這些不能錯過的景點",-1),ut=Object(c["g"])("h2",{class:"me-auto ms-2 d-block d-md-none"},"這些也不能錯過",-1),dt=Object(c["g"])("img",{src:d.a,class:"ms-1",alt:"arrow"},null,-1),bt=Object(c["i"])("更多景點"),ft=Object(c["g"])("img",{src:d.a,class:"ms-1",alt:"arrow"},null,-1),gt=[bt,ft],ht={class:"row"},Ot=["onClick"],pt={class:"recommended-card-img-border"},jt={class:"title"},mt={class:"spot"},vt=Object(c["g"])("img",{src:f.a,class:"me-1",alt:"spot"},null,-1),yt={key:0},Dt={key:1};function Ct(t,e,a,n,i,r){var o=this;return Object(c["u"])(),Object(c["f"])("div",g,[Object(c["g"])("nav",h,[Object(c["g"])("ol",O,[p,Object(c["g"])("li",j,[Object(c["g"])("a",{href:"#",class:"text-decoration-none",onClick:e[0]||(e[0]=Object(c["I"])((function(t){return r.breadCrumbSearch("spot","all")}),["prevent"]))},"探索景點")]),""!==i.currentCity?(Object(c["u"])(),Object(c["f"])("li",m,[Object(c["g"])("a",{href:"#",class:"text-decoration-none",onClick:e[1]||(e[1]=Object(c["I"])((function(t){return r.breadCrumbSearch("spot",i.currentCity_en)}),["prevent"]))},Object(c["B"])(i.currentCity),1)])):Object(c["e"])("",!0),Object(c["g"])("li",v,Object(c["B"])(i.detailData.Name),1)])]),Object(c["g"])("div",y,null,512),Object(c["g"])("div",D,[Object(c["g"])("h2",C,Object(c["B"])(i.detailData.Name),1),i.detailData.Class1?(Object(c["u"])(),Object(c["f"])("span",S,"# "+Object(c["B"])(i.detailData.Class1),1)):Object(c["e"])("",!0),i.detailData.Class2?(Object(c["u"])(),Object(c["f"])("span",k,"# "+Object(c["B"])(i.detailData.Class2),1)):Object(c["e"])("",!0),i.detailData.Class3?(Object(c["u"])(),Object(c["f"])("span",x,"# "+Object(c["B"])(i.detailData.Class3),1)):Object(c["e"])("",!0),Object(c["g"])("div",P,[$,Object(c["g"])("p",w,[i.detailData.Description?(Object(c["u"])(),Object(c["f"])("span",A,Object(c["B"])(i.detailData.Description),1)):(Object(c["u"])(),Object(c["f"])("span",B,Object(c["B"])(i.detailData.DescriptionDetail),1))])])]),Object(c["g"])("div",I,[Object(c["g"])("div",T,[Object(c["g"])("ul",L,[Object(c["g"])("li",null,[N,Object(c["i"])(" : "+Object(c["B"])(i.detailData.OpenTime),1)]),i.detailData.Phone?(Object(c["u"])(),Object(c["f"])("li",U,[E,Object(c["i"])(" : "+Object(c["B"])(i.detailData.Phone),1)])):Object(c["e"])("",!0),i.detailData.Address?(Object(c["u"])(),Object(c["f"])("li",F,[J,Object(c["i"])(" : "+Object(c["B"])(i.detailData.Address),1)])):Object(c["e"])("",!0),i.detailData.WebsiteUrl?(Object(c["u"])(),Object(c["f"])("li",M,[_,R,Object(c["g"])("a",{href:i.detailData.WebsiteUrl,target:"_blank"},Object(c["B"])(i.detailData.WebsiteUrl),9,z)])):Object(c["e"])("",!0)])]),Object(c["g"])("div",H,[Object(c["g"])("iframe",{width:"100%",height:"250",style:{border:"0","border-radius":"12px","margin-bottom":"12px"},src:i.iframeSrc},"\r\n      ",8,q),Object(c["g"])("div",W,[V,Object(c["g"])("div",X,[Object(c["g"])("div",G,[Object(c["g"])("div",{class:"relation-item",onClick:e[2]||(e[2]=function(t){return r.getAroundOne("ScenicSpot","spot")})},Y)]),Object(c["g"])("div",Z,[Object(c["g"])("div",{class:"relation-item",onClick:e[3]||(e[3]=function(t){return r.getAroundOne("Activity","event")})},at)]),Object(c["g"])("div",ct,[Object(c["g"])("div",{class:"relation-item",onClick:e[4]||(e[4]=function(t){return r.getAroundOne("Restaurant","food")})},rt)])])])])]),Object(c["g"])("div",ot,[Object(c["g"])("div",st,[lt,ut,Object(c["g"])("a",{class:"more-link me-2 d-md-block d-none",href:"#",onClick:e[5]||(e[5]=Object(c["I"])((function(t){return r.goToRelation("spot")}),["prevent"]))},[Object(c["i"])("查看更多"+Object(c["B"])(this.currentCity)+"景點",1),dt]),Object(c["g"])("a",{class:"more-link me-2 d-block d-md-none",href:"#",onClick:e[6]||(e[6]=Object(c["I"])((function(t){return r.goToRelation("spot")}),["prevent"]))},gt)]),Object(c["g"])("div",ht,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(i.aroundSpotList,(function(t){return Object(c["u"])(),Object(c["f"])("div",{class:"col-lg-3 col-md-6",key:t.ID},[Object(c["g"])("div",{class:"recommended-card",onClick:function(e){return r.goToDetail("spot",t.ID)}},[Object(c["g"])("div",pt,[Object(c["g"])("div",{class:"recommended-card-img",style:Object(c["q"])({"background-image":"url("+t.Picture.PictureUrl1+")"})},null,4)]),Object(c["g"])("p",jt,Object(c["B"])(t.ScenicSpotName),1),Object(c["g"])("p",mt,[vt,t.City?(Object(c["u"])(),Object(c["f"])("span",yt,Object(c["B"])(t.City),1)):(Object(c["u"])(),Object(c["f"])("span",Dt,Object(c["B"])(o.$filter.formatCity(t)),1))])],8,Ot)])})),128))])])])}a("b0c0"),a("99af"),a("d3b7"),a("159b"),a("e9c4");var St={data:function(){return{id:"",detailData:{},iframeSrc:"",aroundSpotList:[],currentCity:"",currentCity_en:""}},watch:{$route:function(){"spotDetail"===this.$route.name&&(this.id=this.$route.params.Id,this.getDetail(),this.getCityList())}},methods:{goToDetail:function(t,e){this.$router.push("/".concat(t,"/").concat(e))},getDetail:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=ScenicSpotID%20eq%20'".concat(this.id,"'&$top=1&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.detailData=e.data[0],t.iframeSrc="https://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=".concat(t.detailData.Position.PositionLat,",").concat(t.detailData.Position.PositionLon,"&z=16&output=embed&t="),t.getAroundSpot(),t.renderCarousel(t.detailData),t.getCityList()})).catch((function(t){console.log(t)}))},getAroundSpot:function(){var t=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=Picture%2FPictureUrl1%20ne%20null%20and%20ScenicSpotID%20ne%20'".concat(this.detailData.ID,"'&$orderby=UpdateTime%20desc&$top=4&$spatialFilter=nearby(").concat(this.detailData.Position.PositionLat,"%2C%20").concat(this.detailData.Position.PositionLon,"%2C%2010000)&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(e){t.aroundSpotList=e.data})).catch((function(t){console.log(t)}))},checkImage:function(t){var e=[];return t.Picture.PictureUrl1&&e.push(t.Picture.PictureUrl1),t.Picture.PictureUrl2&&e.push(t.Picture.PictureUrl2),t.Picture.PictureUrl3&&e.push(t.Picture.PictureUrl3),e},renderCarousel:function(t){var e=this.checkImage(t),c="",n='\n      <button\n        class="carousel-control-prev d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselSpot"\n        data-bs-slide="prev"\n      >\n        <img src="'.concat(a("a454"),'" alt="" />\n        <span class="visually-hidden">Previous</span>\n      </button>\n      <button\n        class="carousel-control-next d-lg-block d-none"\n        type="button"\n        data-bs-target="#carouselSpot"\n        data-bs-slide="next"\n      >\n        <img src="').concat(a("eceb"),'" alt=""/>\n        <span class="visually-hidden">Next</span>\n      </button>'),i="";i='\n      <div\n        class="\n          carousel-indicators carousel-indicators-radius\n          justify-content-end\n        "\n      >\n      ',e.forEach((function(t,e){i+='\n        <button\n          type="button"\n          data-bs-target="#carouselSpot"\n          data-bs-slide-to="'.concat(e,'"\n          class="').concat(0===e?"active":"",' circle-radius"\n        ></button>\n        ')})),i+="</div>";var r="";r='<div class="carousel-inner">',e.forEach((function(t,e){r+='\n        <div\n          class="carousel-item '.concat(0===e?"active":"",' bg-cover bg-center"\n          style="\n            background-image: url(').concat(t,');\n          "\n        >\n        </div>')})),r+="</div>",c+=i,c+=r,c+=n,this.$refs.carouselSpot.innerHTML=c},getCityList:function(){var t=this;this.axios.get("https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON",{headers:this.$getAuthorizationHeader()}).then((function(e){var a=e.data;t.currentCity=t.detailData.City?t.detailData.City:t.$filter.formatCity(t.detailData),a.forEach((function(e){e.CityName===t.currentCity&&(t.currentCity_en=e.City)}))})).catch((function(t){console.log(t)}))},goToRelation:function(t){var e={keyword:"",city:""===this.currentCity_en?"all":this.currentCity_en,class1:"all",search:!0},a=JSON.stringify(e);this.$router.push("/".concat(t,"Search/").concat(a))},getAroundOne:function(t,e){var a=this;this.axios.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/".concat(t,"?$filter=").concat(t,"ID%20ne%20'").concat(this.detailData.ID,"'&$orderby=UpdateTime%20desc&$top=3&$spatialFilter=nearby(").concat(this.detailData.Position.PositionLat,"%2C%20").concat(this.detailData.Position.PositionLon,"%2C%201000)&$format=JSON"),{headers:this.$getAuthorizationHeader()}).then((function(c){if(c.data){var n="".concat(t,"ID"),i=c.data[Math.floor(Math.random()*c.data.length)][n];a.$router.push("/".concat(e,"/").concat(i))}})).catch((function(t){console.log(t)}))},breadCrumbSearch:function(t,e){var a={keyword:"",city:e,class1:"all",search:!0},c=JSON.stringify(a);this.$router.push("/".concat(t,"Search/").concat(c))}},created:function(){this.id=this.$route.params.Id,this.getDetail()}},kt=a("6b0d"),xt=a.n(kt);const Pt=xt()(St,[["render",Ct]]);e["default"]=Pt},"65f0":function(t,e,a){var c=a("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},"7dff":function(t,e,a){t.exports=a.p+"img/arrow-right16_R.04a62f81.svg"},8418:function(t,e,a){"use strict";var c=a("a04b"),n=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var r=c(e);r in t?n.f(t,r,i(0,a)):t[r]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),n=a("da84"),i=a("d039"),r=a("e8b5"),o=a("861d"),s=a("7b0b"),l=a("07fa"),u=a("8418"),d=a("65f0"),b=a("1dde"),f=a("b622"),g=a("2d00"),h=f("isConcatSpreadable"),O=9007199254740991,p="Maximum allowed index exceeded",j=n.TypeError,m=g>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=b("concat"),y=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)},D=!m||!v;c({target:"Array",proto:!0,forced:D},{concat:function(t){var e,a,c,n,i,r=s(this),o=d(r,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(i=-1===e?r:arguments[e],y(i)){if(n=l(i),b+n>O)throw j(p);for(a=0;a<n;a++,b++)a in i&&u(o,b,i[a])}else{if(b>=O)throw j(p);u(o,b++,i)}return o.length=b,o}})},a454:function(t,e,a){t.exports=a.p+"img/Arrow-Left.82a327f0.svg"},b0c0:function(t,e,a){var c=a("83ab"),n=a("5e77").EXISTS,i=a("e330"),r=a("9bf2").f,o=Function.prototype,s=i(o.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(l.exec),d="name";c&&!n&&r(o,d,{configurable:!0,get:function(){try{return u(l,s(this))[1]}catch(t){return""}}})},b727:function(t,e,a){var c=a("0366"),n=a("e330"),i=a("44ad"),r=a("7b0b"),o=a("07fa"),s=a("65f0"),l=n([].push),u=function(t){var e=1==t,a=2==t,n=3==t,u=4==t,d=6==t,b=7==t,f=5==t||d;return function(g,h,O,p){for(var j,m,v=r(g),y=i(v),D=c(h,O),C=o(y),S=0,k=p||s,x=e?k(g,C):a||b?k(g,0):void 0;C>S;S++)if((f||S in y)&&(j=y[S],m=D(j,S,v),t))if(e)x[S]=m;else if(m)switch(t){case 3:return!0;case 5:return j;case 6:return S;case 2:l(x,j)}else switch(t){case 4:return!1;case 7:l(x,j)}return d?-1:n||u?u:x}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}},e9c4:function(t,e,a){var c=a("23e7"),n=a("da84"),i=a("d066"),r=a("2ba4"),o=a("e330"),s=a("d039"),l=n.Array,u=i("JSON","stringify"),d=o(/./.exec),b=o("".charAt),f=o("".charCodeAt),g=o("".replace),h=o(1..toString),O=/[\uD800-\uDFFF]/g,p=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,m=function(t,e,a){var c=b(a,e-1),n=b(a,e+1);return d(p,t)&&!d(j,n)||d(j,t)&&!d(p,c)?"\\u"+h(f(t,0),16):t},v=s((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&c({target:"JSON",stat:!0,forced:v},{stringify:function(t,e,a){for(var c=0,n=arguments.length,i=l(n);c<n;c++)i[c]=arguments[c];var o=r(u,null,i);return"string"==typeof o?g(o,O,m):o}})},eceb:function(t,e,a){t.exports=a.p+"img/Arrow-Right.16fb9788.svg"},fa37:function(t,e,a){t.exports=a.p+"img/nearby-scene30.ed479aea.svg"}}]);
//# sourceMappingURL=chunk-d67fde7c.e5315491.js.map