{"version":3,"sources":["webpack:///./src/assets/images/event_1.png","webpack:///./src/assets/images/event_5.png","webpack:///./src/assets/images/event_4.png","webpack:///./src/views/EventSearch.vue","webpack:///./src/views/EventSearch.vue?2ddf","webpack:///./src/assets/images/event_2.png","webpack:///./src/assets/images/event_6.png","webpack:///./src/assets/images/event_3.png"],"names":["module","exports","class","value","selected","src","alt","style","selectCity","CityList","item","City","key","CityName","class1","keyword","type","placeholder","searchByInput","goToClass","searchTrigger","totalLength","resultData","ActivityID","goToDetail","Picture","PictureUrl1","ActivityName","Address","$filter","formatCity","pages","pagination","components","Pagination","data","methods","getParams","pstr","this","$route","params","queryString","pjson","JSON","parse","city","console","log","search","category","id","$router","push","getCityList","axios","get","headers","$getAuthorizationHeader","then","response","catch","err","cl","para","strParam","stringify","name","page","Filter","url","length","pageItem","totalPage","Math","ceil","start","end","slice","current_page","has_next","has_pre","total_pages","page_range","getPageRange","currentPage","pageRanges","Array","fill","map","val","index","startPage","overNumber","watch","created","__exports__","render"],"mappings":"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","file":"js/chunk-456ebbb6.fa7f81dd.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/event_1.1b3f0ab9.png\";","module.exports = __webpack_public_path__ + \"img/event_5.f148d7a3.png\";","module.exports = __webpack_public_path__ + \"img/event_4.4961142e.png\";","<template>\r\n  <div class=\"container-fluid conatainer-px\">\r\n    <nav aria-label=\"breadcrumb\" class=\"py-2 mt-3\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\">\r\n          <a href=\"#\" class=\"text-decoration-none\">首頁</a>\r\n        </li>\r\n        <li class=\"breadcrumb-item active\">節慶活動</li>\r\n      </ol>\r\n    </nav>\r\n\r\n    <div class=\"row py-4\">\r\n      <div class=\"col-lg-3 mb-3\">\r\n        <select class=\"form-select\" v-model=\"selectCity\">\r\n          <option value=\"all\" selected>全部縣市</option>\r\n          <option :value=\"item.City\" v-for=\"item in CityList\" :key=\"item.City\">{{ item.CityName }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"col-lg-3 mb-3\">\r\n        <select class=\"form-select\" v-model=\"class1\">\r\n          <option value=\"all\" selected>全部主題</option>\r\n          <option value=\"節慶活動\">節慶活動</option>\r\n          <option value=\"自行車活動\">自行車活動</option>\r\n          <option value=\"遊憩活動\">遊憩活動</option>\r\n          <option value=\"產業文化活動\">產業文化活動</option>\r\n          <option value=\"年度活動\">年度活動</option>\r\n          <option value=\"四季活動\">四季活動</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"col-lg-4 mb-3\">\r\n        <input\r\n          v-model=\"keyword\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"想找有趣的？請輸入關鍵字\"\r\n        />\r\n      </div>\r\n      <div class=\"col-lg-2 mb-3\">\r\n        <button type=\"button\" class=\"btn btn-customer w-100 d-flex align-items-center justify-content-center\" @click=\"searchByInput()\">\r\n          <img src=\"@/assets/images/search30.svg\" alt=\"search\">\r\n          <span>搜尋</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <h3 class=\"mt-5 mb-4\">熱門主題</h3>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('節慶活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_1.png') + ')' }\"\r\n          >\r\n            <strong>節慶活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('自行車活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_2.png') + ')' }\"\r\n          >\r\n            <strong>自行車活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('遊憩活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_3.png') + ')' }\"\r\n          >\r\n            <strong>遊憩活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('產業文化活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_4.png') + ')' }\"\r\n          >\r\n            <strong>產業文化活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('年度活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_5.png') + ')' }\"\r\n          >\r\n            <strong>年度活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-3 col-6 mb-3\">\r\n        <div class=\"category-border\">\r\n          <div\r\n            @click=\"goToClass('四季活動')\"\r\n            class=\"category bg-cover bg-center\"\r\n            :style=\"{ 'background-image': 'url(' + require('@/assets/images/event_6.png') + ')' }\"\r\n          >\r\n            <strong>四季活動</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n<!-- 搜尋結果 -->\r\n    <template v-if=\"searchTrigger\">\r\n      <div class=\"d-flex align-items-center\">\r\n        <h2 class=\"me-2\">搜尋結果</h2>\r\n        <span style=\"font-family: 'Noto Sans TC', sans-serif;\">共有 {{ totalLength }} 筆</span>\r\n      </div>\r\n      <div class=\"row\" v-if=\"totalLength > 0\">\r\n        <div class=\"col-xl-3 col-md-6 mb-3\" v-for=\"item in resultData\" :key=\"item.ActivityID\">\r\n          <div class=\"recommended-card\" @click=\"goToDetail('event',item.ActivityID)\">\r\n            <div class=\"recommended-card-img-border\">\r\n              <div v-if=\"item.Picture.PictureUrl1\"\r\n                class=\"recommended-card-img\"\r\n                :style=\"{ 'background-image': 'url(' + item.Picture.PictureUrl1 + ')' }\"\r\n              ></div>\r\n              <div v-else\r\n                class=\"recommended-card-img\"\r\n                :style=\"{ 'background-image': 'url(' + require('@/assets/images/NoImage-255x200.png') + ')' }\"\r\n              ></div>\r\n            </div>\r\n            <p class=\"title\">{{ item.ActivityName }}</p>\r\n            <p class=\"spot\">\r\n              <img\r\n                src=\"@/assets/images/spot16.svg\"\r\n                class=\"me-1\"\r\n                alt=\"spot\"\r\n              />\r\n              <span v-if=\"item.City\">{{ item.City }}</span>\r\n              <span v-else-if=\"item.Address\">{{ this.$filter.formatCity(item) }}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"text-center py-3\">\r\n        <img src=\"@/assets/images/nofound80.png\" alt=\"\">\r\n        <p>目前查無資料<br>請重新搜尋</p>\r\n      </div>\r\n    </template>\r\n\r\n    <Pagination class=\"mt-4\"\r\n      v-if=\"searchTrigger && totalLength != 0\"\r\n      :pages=\"pagination\"\r\n      v-on:emit-pages=\"searchByInput\"\r\n    ></Pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nexport default {\r\n  components: {\r\n    Pagination\r\n  },\r\n  data () {\r\n    return {\r\n      CityList: [],\r\n      selectCity: 'all',\r\n      keyword: '',\r\n      class1: 'all',\r\n      searchTrigger: false,\r\n      totalLength: 0,\r\n      resultData: [],\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    getParams () {\r\n      const pstr = '' + this.$route.params.queryString\r\n      const pjson = JSON.parse(pstr)\r\n      this.keyword = pjson.keyword\r\n      this.selectCity = pjson.city\r\n      this.class1 = pjson.class1\r\n      console.log(pjson)\r\n      this.searchTrigger = pjson.search\r\n      this.pagination = {}\r\n      if (this.searchTrigger) {\r\n        this.searchByInput()\r\n      }\r\n    },\r\n    goToDetail (category, id) {\r\n      this.$router.push(`/${category}/${id}`)\r\n    },\r\n    getCityList () {\r\n      this.axios.get('https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON',\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          this.CityList = response.data\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    goToClass (cl) {\r\n      const para = {\r\n        keyword: '',\r\n        city: 'all',\r\n        class1: cl,\r\n        search: true\r\n      }\r\n      const strParam = JSON.stringify(para)\r\n      this.$router.push({ name: 'eventSearch', params: { queryString: strParam } })\r\n    },\r\n    searchByInput (page = 1) {\r\n      let Filter = ''\r\n      if (this.keyword === '') {\r\n        if (this.class1 === 'all') {\r\n          Filter = ''\r\n        } else {\r\n          Filter = `$filter=Class1%20eq%20'${this.class1}'&`\r\n        }\r\n      } else {\r\n        if (this.class1 === 'all') {\r\n          Filter = `$filter=contains(Name,'${this.keyword}')&`\r\n        } else {\r\n          Filter = `$filter=contains(Name,'${this.keyword}')%20and%20Class1%20eq%20'${this.class1}'&`\r\n        }\r\n      }\r\n      let url = ''\r\n      if (this.selectCity === 'all') {\r\n        url = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity?${Filter}$top=200&$format=JSON`\r\n      } else {\r\n        url = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity/${this.selectCity}?${Filter}$top=200&$format=JSON`\r\n      }\r\n      console.log(url)\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response)\r\n          this.searchTrigger = true\r\n          this.resultData = response.data\r\n          this.totalLength = this.resultData.length\r\n          const pageItem = 20\r\n          const totalPage = Math.ceil(this.resultData.length / pageItem)\r\n          const start = (page - 1) * pageItem\r\n          const end = page * pageItem\r\n          this.resultData = this.resultData.slice(start, end)\r\n          this.pagination = {\r\n            category: null,\r\n            current_page: page,\r\n            has_next: page < totalPage,\r\n            has_pre: page !== 1,\r\n            total_pages: totalPage,\r\n            page_range: this.getPageRange(page, totalPage)\r\n          }\r\n          // console.log(this.getPageRange(page, totalPage))\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getPageRange (currentPage, totalPage) {\r\n      if (totalPage <= 5) {\r\n        const pageRanges = Array(totalPage)\r\n          .fill(1)\r\n          .map((val, index) => {\r\n            const value = val + index\r\n            return value\r\n          })\r\n        return pageRanges\r\n      } else {\r\n        const startPage = (() => {\r\n          // if (currentPage - 2 <= 0) return 1 // 前幾頁\r\n          // const overNumber = currentPage + 2 - totalPage\r\n          // if (overNumber > 0) return currentPage - 2 - overNumber // 最後幾頁\r\n          // return currentPage - 2 // 正常頁\r\n          if (currentPage - 1 <= 0) return 1 // 前幾頁\r\n          const overNumber = currentPage + 1 - totalPage\r\n          if (overNumber > 0) return currentPage - 1 - overNumber // 最後幾頁\r\n          return currentPage - 1 // 正常頁\r\n        })()\r\n        const pageRanges = Array(3) // 5\r\n          .fill(startPage)\r\n          .map((val, index) => {\r\n            const value = val + index\r\n            // return { isActive: value === currentPage, action: 'setPage', value }\r\n            return value\r\n          })\r\n          // .filter(({ value }) => value >= 1 && value <= totalPage)\r\n        // if (pageRanges[0] !== 1) pageRanges.unshift(1)\r\n        // if (pageRanges[pageRanges.length - 1] !== totalPage) pageRanges.push(totalPage)\r\n        // console.log(startPage, pageRanges)\r\n        return pageRanges\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route () {\r\n      // 相同path 不同 praram 時需要 透過watch $route 來重新Render\r\n      if (this.$route.name === 'eventSearch') {\r\n        this.getParams()\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getCityList()\r\n    this.getParams()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./EventSearch.vue?vue&type=template&id=58069e9c\"\nimport script from \"./EventSearch.vue?vue&type=script&lang=js\"\nexport * from \"./EventSearch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\F2E\\\\sightseeing\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/event_2.99508819.png\";","module.exports = __webpack_public_path__ + \"img/event_6.e58751ee.png\";","module.exports = __webpack_public_path__ + \"img/event_3.8489853f.png\";"],"sourceRoot":""}