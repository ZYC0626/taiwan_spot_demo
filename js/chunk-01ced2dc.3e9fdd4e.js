(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01ced2dc"],{"2ea1":function(t,e,c){t.exports=c.p+"img/spot_6.956fc8d8.png"},"406a":function(t,e,c){"use strict";c.r(e);var a=c("7a23"),s=c("8ee3"),o=c.n(s),n=c("1023"),r=c.n(n),l=c("e323"),i=c.n(l),g={class:"container-fluid conatainer-px"},b=Object(a["h"])('<nav aria-label="breadcrumb" class="py-2 mt-3"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#" class="text-decoration-none">首頁</a></li><li class="breadcrumb-item active">探索景點</li></ol></nav>',1),u={class:"row py-4"},d={class:"col-lg-3 mb-3"},O=Object(a["g"])("option",{value:"all",selected:""},"全部縣市",-1),p=["value"],j={class:"col-lg-3 mb-3"},m=Object(a["h"])('<option value="all" selected>全部主題</option><option value="自然風景類">自然風景類</option><option value="觀光工廠類">觀光工廠類</option><option value="遊憩類">遊憩類</option><option value="休閒農業類">休閒農業類</option><option value="生態類">生態類</option><option value="溫泉類">溫泉類</option><option value="古蹟類">古蹟類</option>',8),f=[m],y={class:"col-lg-4 mb-3"},h={class:"col-lg-2 mb-3"},v=Object(a["g"])("img",{src:o.a,alt:"search"},null,-1),k=Object(a["g"])("span",null,"搜尋",-1),C=[v,k],w=Object(a["g"])("h3",{class:"mt-5 mb-4"},"熱門主題",-1),T={class:"row"},x={class:"col-md-3 col-6 mb-3"},$={class:"category-border"},S=Object(a["g"])("strong",null,"自然風景類",-1),q=[S],D={class:"col-md-3 col-6 mb-3"},P={class:"category-border"},_=Object(a["g"])("strong",null,"觀光工廠類",-1),B=[_],N={class:"col-md-3 col-6 mb-3"},L={class:"category-border"},J=Object(a["g"])("strong",null,"遊憩類",-1),I=[J],H={class:"col-md-3 col-6 mb-3"},U={class:"category-border"},A=Object(a["g"])("strong",null,"休閒農業類",-1),M=[A],V={class:"col-md-3 col-6 mb-3"},z={class:"category-border"},E=Object(a["g"])("strong",null,"生態類",-1),R=[E],F={class:"col-md-3 col-6 mb-3"},G={class:"category-border"},K=Object(a["g"])("strong",null,"溫泉類",-1),Q=[K],W={class:"col-md-3 col-6 mb-3"},X={class:"category-border"},Y=Object(a["g"])("strong",null,"古蹟類",-1),Z=[Y],tt={class:"d-flex align-items-center"},et=Object(a["g"])("h2",{class:"me-2"},"搜尋結果",-1),ct={style:{"font-family":"'Noto Sans TC', sans-serif"}},at={key:0,class:"row"},st=["onClick"],ot={class:"recommended-card-img-border"},nt={class:"title"},rt={class:"spot"},lt=Object(a["g"])("img",{src:r.a,class:"me-1",alt:"spot"},null,-1),it={key:0},gt={key:1},bt={key:1,class:"text-center py-3"},ut=Object(a["g"])("img",{src:i.a,alt:""},null,-1),dt=Object(a["g"])("p",null,[Object(a["i"])("目前查無資料"),Object(a["g"])("br"),Object(a["i"])("請重新搜尋")],-1),Ot=[ut,dt];function pt(t,e,s,o,n,r){var l=this,i=Object(a["z"])("Pagination");return Object(a["u"])(),Object(a["f"])("div",g,[b,Object(a["g"])("div",u,[Object(a["g"])("div",d,[Object(a["H"])(Object(a["g"])("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=function(t){return n.selectCity=t})},[O,(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(n.CityList,(function(t){return Object(a["u"])(),Object(a["f"])("option",{value:t.City,key:t.City},Object(a["B"])(t.CityName),9,p)})),128))],512),[[a["D"],n.selectCity]])]),Object(a["g"])("div",j,[Object(a["H"])(Object(a["g"])("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.class1=t})},f,512),[[a["D"],n.class1]])]),Object(a["g"])("div",y,[Object(a["H"])(Object(a["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return n.keyword=t}),type:"text",class:"form-control",placeholder:"想找有趣的？請輸入關鍵字"},null,512),[[a["E"],n.keyword]])]),Object(a["g"])("div",h,[Object(a["g"])("button",{type:"button",class:"btn btn-customer w-100 d-flex align-items-center justify-content-center",onClick:e[3]||(e[3]=function(t){return r.searchByInput()})},C)])]),w,Object(a["g"])("div",T,[Object(a["g"])("div",x,[Object(a["g"])("div",$,[Object(a["g"])("div",{onClick:e[4]||(e[4]=function(t){return r.goToClass("自然風景類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("9c2a")+")"})},q,4)])]),Object(a["g"])("div",D,[Object(a["g"])("div",P,[Object(a["g"])("div",{onClick:e[5]||(e[5]=function(t){return r.goToClass("觀光工廠類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("5a55")+")"})},B,4)])]),Object(a["g"])("div",N,[Object(a["g"])("div",L,[Object(a["g"])("div",{onClick:e[6]||(e[6]=function(t){return r.goToClass("遊憩類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("e06d")+")"})},I,4)])]),Object(a["g"])("div",H,[Object(a["g"])("div",U,[Object(a["g"])("div",{onClick:e[7]||(e[7]=function(t){return r.goToClass("休閒農業類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("92f5")+")"})},M,4)])]),Object(a["g"])("div",V,[Object(a["g"])("div",z,[Object(a["g"])("div",{onClick:e[8]||(e[8]=function(t){return r.goToClass("生態類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("6aae")+")"})},R,4)])]),Object(a["g"])("div",F,[Object(a["g"])("div",G,[Object(a["g"])("div",{onClick:e[9]||(e[9]=function(t){return r.goToClass("溫泉類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("2ea1")+")"})},Q,4)])]),Object(a["g"])("div",W,[Object(a["g"])("div",X,[Object(a["g"])("div",{onClick:e[10]||(e[10]=function(t){return r.goToClass("古蹟類")}),class:"category bg-cover bg-center",style:Object(a["q"])({"background-image":"url("+c("7926")+")"})},Z,4)])])]),n.searchTrigger?(Object(a["u"])(),Object(a["f"])(a["a"],{key:0},[Object(a["g"])("div",tt,[et,Object(a["g"])("span",ct,"共有 "+Object(a["B"])(n.totalLength)+" 筆",1)]),n.totalLength>0?(Object(a["u"])(),Object(a["f"])("div",at,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(n.resultData,(function(t){return Object(a["u"])(),Object(a["f"])("div",{class:"col-xl-3 col-md-6 mb-3",key:t.ID},[Object(a["g"])("div",{class:"recommended-card",onClick:function(e){return r.goToDetail("spot",t.ID)}},[Object(a["g"])("div",ot,[t.Picture.PictureUrl1?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"recommended-card-img",style:Object(a["q"])({"background-image":"url("+t.Picture.PictureUrl1+")"})},null,4)):(Object(a["u"])(),Object(a["f"])("div",{key:1,class:"recommended-card-img",style:Object(a["q"])({"background-image":"url("+c("c538")+")"})},null,4))]),Object(a["g"])("p",nt,Object(a["B"])(t.Name),1),Object(a["g"])("p",rt,[lt,t.City?(Object(a["u"])(),Object(a["f"])("span",it,Object(a["B"])(t.City),1)):(Object(a["u"])(),Object(a["f"])("span",gt,Object(a["B"])(l.$filter.formatCity(t)),1))])],8,st)])})),128))])):(Object(a["u"])(),Object(a["f"])("div",bt,Ot))],64)):Object(a["e"])("",!0),n.searchTrigger?(Object(a["u"])(),Object(a["d"])(i,{key:1,class:"mt-4",pages:n.pagination,onEmitPages:r.searchByInput},null,8,["pages","onEmitPages"])):Object(a["e"])("",!0)])}c("ac1f"),c("841c"),c("99af"),c("e9c4"),c("fb6a"),c("d81d"),c("cb29"),c("b0c0");var jt=c("1799"),mt={components:{Pagination:jt["a"]},data:function(){return{CityList:[],selectCity:"all",keyword:"",class1:"all",searchTrigger:!1,totalLength:0,resultData:[],pagination:{}}},methods:{getParams:function(){var t=""+this.$route.params.queryString,e=JSON.parse(t);this.keyword=e.keyword,this.selectCity=e.city,this.class1=e.class1,console.log(e),this.searchTrigger=e.search,this.pagination={},this.searchTrigger&&this.searchByInput()},goToDetail:function(t,e){this.$router.push("/".concat(t,"/").concat(e))},getCityList:function(){var t=this;this.axios.get("https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON",{headers:this.$getAuthorizationHeader()}).then((function(e){t.CityList=e.data})).catch((function(t){console.log(t)}))},goToClass:function(t){var e={keyword:"",city:"all",class1:t,search:!0},c=JSON.stringify(e);this.$router.push({name:"spotSearch",params:{queryString:c}})},searchByInput:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="";c=""===this.keyword?"all"===this.class1?"":"$filter=Class1%20eq%20'".concat(this.class1,"'&"):"all"===this.class1?"$filter=contains(Name,'".concat(this.keyword,"')&"):"$filter=contains(Name,'".concat(this.keyword,"')%20and%20Class1%20eq%20'").concat(this.class1,"'&");var a="";a="all"===this.selectCity?"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?".concat(c,"$top=200&$format=JSON"):"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(this.selectCity,"?").concat(c,"$top=200&$format=JSON"),console.log(a),this.axios.get(a,{headers:this.$getAuthorizationHeader()}).then((function(c){t.searchTrigger=!0,t.resultData=c.data,t.totalLength=t.resultData.length;var a=20,s=Math.ceil(t.resultData.length/a),o=(e-1)*a,n=e*a;t.resultData=t.resultData.slice(o,n),t.pagination={category:null,current_page:e,has_next:e<s,has_pre:1!==e,total_pages:s,page_range:t.getPageRange(e,s)}})).catch((function(t){console.log(t)}))},getPageRange:function(t,e){if(e<=5){var c=Array(e).fill(1).map((function(t,e){var c=t+e;return c}));return c}var a=function(){if(t-1<=0)return 1;var c=t+1-e;return c>0?t-1-c:t-1}(),s=Array(3).fill(a).map((function(t,e){var c=t+e;return c}));return s}},watch:{$route:function(){"spotSearch"===this.$route.name&&this.getParams()}},created:function(){this.getCityList(),this.getParams()}},ft=c("6b0d"),yt=c.n(ft);const ht=yt()(mt,[["render",pt]]);e["default"]=ht},"5a55":function(t,e,c){t.exports=c.p+"img/spot_2.21701760.png"},"6aae":function(t,e,c){t.exports=c.p+"img/spot_5.36a8b5a6.png"},7926:function(t,e,c){t.exports=c.p+"img/spot_7.3d734473.png"},"92f5":function(t,e,c){t.exports=c.p+"img/spot_4.e525eaf3.png"},"9c2a":function(t,e,c){t.exports=c.p+"img/spot_1.cf9a92a3.png"},e06d:function(t,e,c){t.exports=c.p+"img/spot_3.cf758dbe.png"}}]);
//# sourceMappingURL=chunk-01ced2dc.3e9fdd4e.js.map